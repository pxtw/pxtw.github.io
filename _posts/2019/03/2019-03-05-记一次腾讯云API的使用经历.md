---
layout: post
title: '记一次腾讯云API的使用经历'
date: 2019-03-05T20:54:32+11:00
location: 
---


<div class="hentry p1 post publish author-anon category-sdk-api%e4%bd%bf%e7%94%a8 category-%e6%8a%80%e6%9c%af%e7%9b%b8%e5%85%b3 y2018 m06 d02 h10" id="post-29" style="background-color: white; color: #222222; font-family: georgia, times, serif; font-size: 12.8px; margin: 5em 0px 0px;">
<div class="entry-content">
<div style="margin-bottom: 1em; margin-top: 1em;">
今天尝试使用腾讯云的人脸识别API（<a href="https://cloud.tencent.com/document/product/641/12558#.E9.94.99.E8.AF.AF.E7.A0.81" style="border-bottom: 1px solid rgb(154, 161, 174); color: #677284; outline: none; text-decoration-line: none;">人脸静态活体检测</a>），因为这是我第一次使用真正意义上的使用HTTP形式的API（应该之前也用过一次Ping++的，但我是真的完全忘记了），遇到了一些问题。以下记录遇到问题，解决问题的过程以及对相关知识进行梳理。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
官方提供的接口是HTTP POST形式的，我觉得如果直接在B端直接这样做不太安全。同时目前的我也不怎么擅长前端那一套东西，写一个界面就够麻烦了，我只需要跑一套流程，所以我决定使用服务端的PHP去做HTTP请求。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
之后我了解到PHP有<a href="https://blog.csdn.net/qq_34827048/article/details/78892700" style="border-bottom: 1px solid rgb(154, 161, 174); color: #677284; outline: none; text-decoration-line: none;">6套方法去发出HTTP请求</a>，要么太简单要么太复杂。我选择了curl，因为我在linux下用过它，觉得它挺专业的。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
我按照文档的要求，设置Content_Type为application/json。</div>
<blockquote style="background: rgb(235, 237, 239); color: #4d5663; padding: 0.1em 1em;">
<div style="margin-bottom: 1em; margin-top: 1em;">
“{“code”:3,”message”:”invalid request: parsing error – check content-type and body”,”data”:{}}”</div>
</blockquote>
<div style="margin-bottom: 1em; margin-top: 1em;">
可是一直返回3的错误码，提示我请求格式错误。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
</div>
<div class="EnlighterJSWrapper mootwoEnlighterJSWrapper" style="font-family: &quot;Source Code Pro&quot;, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 10px; line-height: 16px; margin: 0px; overflow-wrap: break-word; overflow: auto; padding: 0px; position: relative; white-space: pre-wrap;">
<ol class="hoverEnabled mootwoEnlighterJS EnlighterJS" style="background-color: #f0f0f1; border-radius: 7px; border: 1px solid rgb(240, 240, 241); color: #939393; font-size: 11px; line-height: 16px; list-style: none; margin: 0px 0px 20px; overflow-wrap: break-word; overflow: auto; padding: 0px;">
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 5px 5px 1px 14px;"><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&lt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">pre</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span><span class="co2" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">/* PHP CURL HTTPS POST */</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">function</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_post_http</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">{</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 模拟提交数据函数</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_init</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 启动一个CURL会话</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_HTTPHEADER</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_URL</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 要访问的地址</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_POST</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="nu0" style="color: #429bc1; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">1</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 发送一个常规的Post请求</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_POSTFIELDS</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // Post提交的数据包</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_TIMEOUT</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="nu0" style="color: #429bc1; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">30</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 设置超时限制防止死循环</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_RETURNTRANSFER</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="nu0" style="color: #429bc1; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">1</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLINFO_HEADER_OUT</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">true</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$tmpInfo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_exec</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 执行操作</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">echo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_getinfo</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLINFO_HEADER_OUT</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">var_dump</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$tmpInfo</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">if</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_errno</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">{</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">echo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="st1" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">'Errno'</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> . </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_error</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;//捕抓异常</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">}</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_close</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 关闭CURL会话</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">return</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$tmpInfo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 返回数据，json格式</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">}</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">function</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">tencentCloudFace</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$appid</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$authorization</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">{</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">array</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="st1" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">'Content-Type: application/json'</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"Host: recognition.image.myqcloud.com"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"Authorization: "</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> . </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$authorization</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">array</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"appid"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$appid</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"url"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$ret</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_post_http</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"http://recognition.image.myqcloud.com/face/livedetectpicture"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">return</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$ret</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 5px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">}</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&lt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">/pre</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span></li>
</ol>
</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
在此期间，我试了差不多30次。因为没有一个标准的模板， 我尝试过设置Header的大小写，尝试修改header中的空格，甚至把“application/json”加上引号。可是结果一直是同一个错误。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
我想看看我到底发了什么请求，于是就稍微找了一下输出curl资源的方法——<span style="color: blue;">curl_getinfo</span>，这是一个大坑。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
后来发现，不管我怎么改，curl_getinfo输出的结果都是基本上不会变的，Content_Type基本不会变一直都是“application/json”，我把curl的url换成一个空地址，则就又变成了NULL。多次尝试后，才弄明白他返回的是Response的Header！</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
</div>
<div class="EnlighterJSWrapper mootwoEnlighterJSWrapper" style="font-family: &quot;Source Code Pro&quot;, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 10px; line-height: 16px; margin: 0px; overflow-wrap: break-word; overflow: auto; padding: 0px; position: relative; white-space: pre-wrap;">
<ol class="hoverEnabled mootwoEnlighterJS EnlighterJS" style="background-color: #f0f0f1; border-radius: 7px; border: 1px solid rgb(240, 240, 241); color: #939393; font-size: 11px; line-height: 16px; list-style: none; margin: 0px 0px 20px; overflow-wrap: break-word; overflow: auto; padding: 0px;">
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 5px 5px 1px 14px;"><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLINFO_HEADER_OUT</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">true</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 5px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_getinfo</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLINFO_HEADER_OUT</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
</ol>
</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
需要如下方法才能获得Request的Header ，得到的结果就是我所设置的——这意味着设置Header这一步没有错误，至少我设置Header是什么，那Request Header就是什么。之后，我再对比文档中需要设置的Header，我发现和我的是一致的。所以问题继续被排查到Request Body部分，如果我把手动录入的Content_Type注释掉，一切又正常了，返回200状态码。但是，Request Header的Content_Type自动被设置成了multipart/form-data。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
我便恍然大悟，因为我的curl中data传入的是array类型，它对应的是multipart/form-data Content_Type。但是我又手动设置了application/json以至于腾讯云正确解析我的Request，只需把data设置为json_encode后的string即可。</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
</div>
<div class="EnlighterJSWrapper mootwoEnlighterJSWrapper" style="font-family: &quot;Source Code Pro&quot;, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, Courier, monospace; font-size: 10px; line-height: 16px; margin: 0px; overflow-wrap: break-word; overflow: auto; padding: 0px; position: relative; white-space: pre-wrap;">
<ol class="hoverEnabled mootwoEnlighterJS EnlighterJS" style="background-color: #f0f0f1; border-radius: 7px; border: 1px solid rgb(240, 240, 241); color: #939393; font-size: 11px; line-height: 16px; list-style: none; margin: 0px 0px 20px; overflow-wrap: break-word; overflow: auto; padding: 0px;">
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 5px 5px 1px 14px;"><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&lt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">pre</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span><span class="co2" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">/* PHP CURL HTTPS POST */</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">function</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_post_http</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">{</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 模拟提交数据函数</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_init</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 启动一个CURL会话</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_HTTPHEADER</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_URL</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 要访问的地址</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_POST</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="nu0" style="color: #429bc1; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">1</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 发送一个常规的Post请求</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class="specialline even" style="background-color: #e9e9e9; border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_POSTFIELDS</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">json_encode</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // Post提交的数据包</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_TIMEOUT</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="nu0" style="color: #429bc1; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">30</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 设置超时限制防止死循环</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLOPT_RETURNTRANSFER</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="nu0" style="color: #429bc1; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">1</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_setopt</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLINFO_HEADER_OUT</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">true</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$tmpInfo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_exec</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 执行操作</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">echo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_getinfo</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span><span class="kw4" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">CURLINFO_HEADER_OUT</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">var_dump</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$tmpInfo</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">if</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_errno</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">{</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">echo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="st1" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">'Errno'</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> . </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_error</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;//捕抓异常</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">}</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_close</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$curl</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 关闭CURL会话</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">return</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$tmpInfo</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span><span class="co1" style="font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> // 返回数据，json格式</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">}</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">function</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">tencentCloudFace</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$appid</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$authorization</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">{</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">array</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="st1" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">'Content-Type: application/json'</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"Host: recognition.image.myqcloud.com"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">,</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">        </span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"Authorization: "</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> . </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$authorization</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">array</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"appid"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$appid</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"url"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$url</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$ret</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">=</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="me0" style="color: #666666; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">curl_post_http</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">(</span><span class="st0" style="color: #83a440; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">"http://recognition.image.myqcloud.com/face/livedetectpicture"</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$header</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">, </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$data</span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">)</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" odd" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 1px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">    </span><span class="kw1" style="color: #b05098; font-family: inherit; font-size: 14px; font-weight: 700; line-height: inherit; margin: 0px; padding: 0px;">return</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"> </span><span class="kw3" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">$ret</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">;</span></li>
<li class=" even" style="border: 0px solid rgb(255, 255, 255); color: #9c9ea0; font-size: inherit; line-height: 18px; list-style: decimal; margin: 0px 0px 0px 40px; padding: 1px 5px 5px 14px;"><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;"></span><span class="br0" style="color: #909090; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">}</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&lt;</span><span class="" style="color: #313437; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">/pre</span><span class="sy0" style="color: #864c08; font-family: inherit; font-size: 14px; line-height: inherit; margin: 0px; padding: 0px;">&gt;</span></li>
</ol>
</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
</div>
<div style="margin-bottom: 1em; margin-top: 1em;">
<br /></div>
</div>
</div>
<div class="comments" style="background-color: white; color: #222222; font-family: georgia, times, serif; font-size: 12.8px;">
<h3 id="respond" style="color: #4d5663; font-family: arial, helvetica, sans-serif; font-size: 1.4em; font-weight: 400; margin: 4em 0px 0.3em;">
Post a Comment</h3>
</div>
